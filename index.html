<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>F.L.A.M.E.S.</title>
    <link rel="icon" type="image/png" href="icons/heading-logo.png">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { background: #0d0302; height: 100vh; overflow: hidden; display: flex; align-items: center; justify-content: center; }
        .ember-particle { position: fixed; border-radius: 50%; pointer-events: none; z-index: 0; animation: floatUp linear infinite; }
        @keyframes floatUp {
            0% { transform: translateY(100vh) scale(1); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 0.6; }
            100% { transform: translateY(-50px) translateX(var(--dx)) scale(0.2); opacity: 0; }
        }
        #loading-screen { text-align: center; position: relative; z-index: 10; }
        .glow-effect { width: 220px; animation: fire-glow 2s ease-in-out infinite; }
        @keyframes fire-glow {
            0%, 100% { filter: drop-shadow(0 0 20px #eb5600bb); }
            50% { filter: drop-shadow(0 0 50px #ff7700dd) drop-shadow(0 0 80px #e1300088); }
        }
        .loading-title {
            font-family: 'Cinzel', serif; font-size: 18px; letter-spacing: 7px;
            background: linear-gradient(to bottom, #ff7733, #8b1a00);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
            margin-top: 16px; opacity: 0; animation: fadeIn 1s ease 0.5s forwards;
        }
        @keyframes fadeIn { to { opacity: 1; } }
        .loading-bar-wrap { width: 200px; height: 3px; background: #2a0a0a; border-radius: 3px; margin: 18px auto 0; overflow: hidden; opacity: 0; animation: fadeIn 0.5s ease 0.8s forwards; }
        .loading-bar { height: 100%; width: 0%; background: linear-gradient(to right, #8b1a00, #e14f00, #ff7733); border-radius: 3px; animation: loadBar 1.8s ease 0.9s forwards; }
        @keyframes loadBar { to { width: 100%; } }
    </style>
</head>
<body>
<div id="loading-screen">
    <img src="icons/logo.png" alt="FLAMES" class="glow-effect">
    <div class="loading-title">F.L.A.M.E.S.</div>
    <div class="loading-bar-wrap"><div class="loading-bar"></div></div>
</div>
<script>
    // Ember particles
    for (let i = 0; i < 20; i++) {
        const p = document.createElement('div');
        p.className = 'ember-particle';
        const size = Math.random() * 5 + 2;
        p.style.cssText = `width:${size}px;height:${size}px;left:${Math.random()*100}%;bottom:-10px;--dx:${(Math.random()-0.5)*150}px;background:hsl(${Math.random()*30+10},100%,${Math.random()*30+50}%);animation-duration:${Math.random()*4+4}s;animation-delay:${Math.random()*4}s;`;
        document.body.appendChild(p);
    }

    const urlParams = new URLSearchParams(window.location.search);
    const action = urlParams.get('action');

    setTimeout(() => {
        if (action === 'logout') {
            localStorage.removeItem('flames_token');
            localStorage.removeItem('flames_username');
            window.location.href = 'login.html';
        } else {
            // Check if we have a token
            const token = localStorage.getItem('flames_token');
            if (!token) {
                window.location.href = 'login.html';
            } else {
                window.location.href = 'dashboard.html';
            }
        }
    }, 2200);
</script>
</body>
</html>
